<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controle de Insumos - Plantio</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>Insumos</h2>
                <p>Gest√£o de Plantio</p>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-tab="plantio">
                    <span>üå±</span> Plantio Di√°rio
                </button>
                <button class="nav-item" data-tab="insumos">
                    <span>üì¶</span> Estoque Insumos
                </button>
                <button class="nav-item" data-tab="viagens">
                    <span>üöõ</span> Viagens Adubo
                </button>
                <button class="nav-item" data-tab="fazendas">
                    <span>üöú</span> Cadastro Fazendas
                </button>
                <button class="nav-item" data-tab="graficos">
                    <span>üìä</span> Dashboard
                </button>
                <button class="nav-item" data-tab="os">
                    <span>üìã</span> OS Agr√≠cola
                </button>
                <button class="nav-item" data-tab="liberacao">
                    <span>‚úÖ</span> Libera√ß√£o Colheita
                </button>
            </nav>
            <div class="sidebar-footer">
                <div id="current-user" style="display:none; font-size: 0.85em; margin-bottom: 10px; color: #aaa;"></div>
                <button id="btn-logout" class="btn-logout">Sair</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            
            <!-- Login Screen -->
            <div id="login-screen" class="modal" style="display: flex;">
                <div class="modal-content" style="max-width: 400px; text-align: center;">
                    <h3>Acesso ao Sistema</h3>
                    
                    <!-- Login Form -->
                    <div class="form-grid boletim-grid" style="grid-template-columns: 1fr;">
                        <div class="form-group">
                            <label>Usu√°rio/Email</label>
                            <input type="text" id="login-user" placeholder="Digite seu usu√°rio">
                        </div>
                        <div class="form-group">
                            <label>Senha</label>
                            <input type="password" id="login-pass" placeholder="Digite sua senha">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="login-btn" style="width: 100%; margin-top: 15px;">Entrar</button>

                    <!-- Register Area -->
                    <div id="register-area" style="display: none; margin-top: 20px; border-top: 1px solid #eee; padding-top: 15px;">
                        <h4>Criar Nova Conta</h4>
                        <div class="form-grid boletim-grid" style="grid-template-columns: 1fr;">
                            <div class="form-group">
                                <label>Nome Completo</label>
                                <input type="text" id="register-name" placeholder="Seu nome">
                            </div>
                            <div class="form-group">
                                <label>Matr√≠cula</label>
                                <input type="text" id="register-matricula" placeholder="Sua matr√≠cula">
                            </div>
                            <div class="form-group">
                                <label>Email (Usu√°rio)</label>
                                <input type="text" id="register-user" placeholder="Seu email">
                            </div>
                            <div class="form-group">
                                <label>Senha</label>
                                <input type="password" id="register-pass" placeholder="Sua senha">
                            </div>
                        </div>
                        <button class="btn btn-success" id="register-btn" style="width: 100%; margin-top: 15px;">Cadastrar</button>
                    </div>

                    <p style="margin-top: 15px; font-size: 0.9em; cursor: pointer; color: #4CAF50;" id="login-register-toggle">Criar conta</p>
                </div>
            </div>

            <!-- Update Profile Screen (First Access) -->
            <div id="update-profile-screen" class="modal" style="display: none; z-index: 2000;">
                <div class="modal-content" style="max-width: 400px;">
                    <h3>Atualiza√ß√£o Cadastral</h3>
                    <p>Por favor, complete seu cadastro para continuar.</p>
                    <div class="form-grid boletim-grid" style="grid-template-columns: 1fr;">
                        <div class="form-group">
                            <label>Nome Completo</label>
                            <input type="text" id="update-name" placeholder="Seu nome">
                        </div>
                        <div class="form-group">
                            <label>Matr√≠cula</label>
                            <input type="text" id="update-matricula" placeholder="Sua matr√≠cula">
                        </div>
                    </div>
                    <button class="btn btn-primary" id="update-profile-btn" style="width: 100%; margin-top: 15px;">Salvar</button>
                </div>
            </div>

            <!-- Header -->
            <header class="top-bar">
                <div class="search-bar">
                    <input type="text" placeholder="Buscar registros...">
                </div>
                <div class="user-info">
                    <span id="connection-status" style="margin-right: 15px; font-size: 0.8em;">üü¢ Online</span>
                    <button class="btn-icon" id="theme-toggle">üåì</button>
                </div>
            </header>

            <!-- Tab: Plantio Di√°rio -->
            <section id="tab-plantio" class="tab-content active">
                <div class="section-header">
                    <h3>Boletim Di√°rio de Plantio</h3>
                    <div class="actions">
                        <button class="btn btn-secondary" id="btn-export-plantio">Exportar Excel</button>
                        <button class="btn btn-primary" id="btn-save-plantio">Salvar Boletim</button>
                    </div>
                </div>

                <div class="card">
                    <div class="form-grid boletim-grid">
                        <div class="form-group">
                            <label>Data</label>
                            <input type="date" id="plantio-data">
                        </div>
                        
                        <!-- Opera√ß√£o Toggle -->
                        <div class="form-group" style="grid-column: span 2;">
                            <label>Opera√ß√£o</label>
                            <select id="tipo-operacao" style="font-weight: bold; color: #2c3e50;">
                                <option value="plantio">Plantio de Cana</option>
                                <option value="colheita_muda">Colheita de Muda</option>
                            </select>
                        </div>

                        <!-- Se√ß√£o Plantio -->
                        <div class="form-group" id="sec-gemas">
                            <label>Gemas/m</label>
                            <input type="number" id="plantio-gemas" step="0.1" placeholder="0.0">
                        </div>
                        <div class="form-group" id="sec-toletes">
                            <label>Toletes/m</label>
                            <input type="number" id="plantio-toletes" step="0.1" placeholder="0.0">
                        </div>

                        <!-- Se√ß√£o Colheita Muda -->
                        <div class="form-group" id="sec-mudas" style="display:none;">
                            <label>Mudas (ton)</label>
                            <input type="number" id="colheita-mudas-ton" step="0.1" placeholder="0.0">
                        </div>
                    </div>

                    <!-- Frentes Din√¢micas -->
                    <div id="frentes-container">
                        <!-- Linhas de frente geradas via JS -->
                    </div>
                </div>

                <!-- Insumos Utilizados -->
                <div class="card" style="margin-top: 20px;" id="sec-outros">
                    <h4>Insumos Utilizados</h4>
                    <div class="form-grid" style="grid-template-columns: 2fr 1fr 1fr auto; align-items: end;">
                        <div class="form-group">
                            <label>Produto</label>
                            <!-- Datalist para autocomplete de produtos do estoque -->
                            <input type="text" id="insumo-produto-input" list="insumos-list" placeholder="Busque o produto...">
                            <datalist id="insumos-list">
                                <!-- Preenchido via JS -->
                            </datalist>
                            <!-- Fallback select se preferir -->
                            <select id="insumo-produto" style="display:none;">
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Dose/ha (Prev)</label>
                            <input type="number" id="insumo-dose-prev" step="0.001">
                        </div>
                        <div class="form-group">
                            <label>Dose/ha (Real)</label>
                            <input type="number" id="insumo-dose-real" step="0.001">
                        </div>
                        <button class="btn btn-secondary" id="btn-add-insumo-row">Adicionar</button>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Dose Prevista</th>
                                    <th>Dose Realizada</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="insumos-plantio-tbody">
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Hist√≥rico Recente -->
                <div class="card" style="margin-top: 20px;">
                    <h4>Hist√≥rico Recente (√öltimos 7 dias)</h4>
                    <div class="table-container">
                        <table class="data-table" id="plantio-history-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Opera√ß√£o</th>
                                    <th>Fazenda</th>
                                    <th>√Årea (ha)</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS -->
                            </tbody>
                        </table>
                    </div>
                </div>

            </section>

            <!-- Tab: Estoque -->
            <section id="tab-insumos" class="tab-content">
                <div class="section-header">
                    <h3>Controle de Estoque</h3>
                    <div class="actions">
                        <button class="btn btn-secondary" id="btn-refresh-estoque">Atualizar</button>
                        <button class="btn btn-primary" id="btn-import-estoque">Importar Excel</button>
                        <input type="file" id="file-estoque" accept=".xlsx, .xls" style="display: none;">
                    </div>
                </div>

                <div class="filters-bar">
                    <select id="filter-estoque-frente">
                        <option value="all">Todas as Frentes</option>
                        <option value="4001">Frente 4001</option>
                        <option value="4002">Frente 4002</option>
                        <option value="4009">Frente 4009</option>
                    </select>
                    <input type="text" id="filter-estoque-produto" placeholder="Filtrar por produto...">
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="data-table" id="estoque-table">
                            <thead>
                                <tr>
                                    <th>Produto</th>
                                    <th>Frente</th>
                                    <th>Entrada</th>
                                    <th>Sa√≠da</th>
                                    <th>Saldo Atual</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Preenchido via JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Tab: Viagens Adubo -->
            <section id="tab-viagens" class="tab-content">
                <div class="section-header">
                    <h3>Controle de Viagens de Adubo</h3>
                    <div class="actions">
                        <button class="btn btn-primary" id="btn-new-viagem">Nova Viagem</button>
                    </div>
                </div>
                
                <div class="filters-bar">
                    <input type="date" id="filter-viagem-data">
                    <input type="text" id="filter-viagem-fazenda" placeholder="Fazenda...">
                </div>

                <div class="card">
                    <div class="table-container">
                        <table class="data-table" id="viagens-table">
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Fazenda</th>
                                    <th>Frente</th>
                                    <th>Motorista</th>
                                    <th>Caminh√£o</th>
                                    <th>Lacre</th>
                                    <th>Bags</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Tab: Cadastro Fazendas -->
            <section id="tab-fazendas" class="tab-content">
                <div class="section-header">
                    <h3>Cadastro de Fazendas</h3>
                    <div class="actions">
                        <button class="btn btn-secondary" id="cadastro-fazenda-novo">Novo</button>
                    </div>
                </div>
                <div class="card">
                    <div class="form-grid" style="grid-template-columns: 1fr 2fr 1fr 1fr 1fr auto;">
                        <div class="form-group">
                            <label>C√≥digo</label>
                            <input type="number" id="cadastro-fazenda-codigo">
                        </div>
                        <div class="form-group">
                            <label>Nome da Fazenda</label>
                            <input type="text" id="cadastro-fazenda-nome">
                        </div>
                        <div class="form-group">
                            <label>Regi√£o</label>
                            <input type="text" id="cadastro-fazenda-regiao">
                        </div>
                        <div class="form-group">
                            <label>√Årea Total</label>
                            <input type="number" id="cadastro-fazenda-area" step="0.01">
                        </div>
                        <div class="form-group">
                            <label>Dist√¢ncia (km)</label>
                            <input type="number" id="cadastro-fazenda-distancia" step="0.1">
                        </div>
                        <button class="btn btn-primary" id="cadastro-fazenda-save" style="margin-top: 22px;">Salvar</button>
                    </div>
                    <div class="table-container" style="margin-top: 20px;">
                        <table class="data-table" id="cadastro-fazendas-table">
                            <thead>
                                <tr>
                                    <th>C√≥d</th>
                                    <th>Fazenda</th>
                                    <th>Regi√£o</th>
                                    <th>√Årea Total</th>
                                    <th>Dist√¢ncia</th>
                                    <th>Plantio Acum.</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Tab: Dashboard -->
            <section id="tab-graficos" class="tab-content">
                <div class="section-header">
                    <h3>Dashboard Gerencial</h3>
                    <div class="actions">
                        <select id="dashboard-periodo" style="padding: 8px; border-radius: 4px; border: 1px solid #ddd;">
                            <option value="safra">Safra Atual</option>
                            <option value="mes">M√™s Atual</option>
                            <option value="semana">√öltimos 7 dias</option>
                        </select>
                        <button class="btn btn-secondary" id="btn-refresh-dashboard">Atualizar</button>
                        <button class="btn btn-secondary" id="btn-config-metas">‚öôÔ∏è Metas</button>
                    </div>
                </div>
                
                <!-- KPIs -->
                <div class="kpi-grid">
                    <div class="kpi-card">
                        <div class="value" id="kpi-area-total">0 ha</div>
                        <div class="label">√Årea Plantada Total</div>
                    </div>
                    <div class="kpi-card">
                        <div class="value" id="kpi-rendimento">0 %</div>
                        <div class="label">Rendimento M√©dio</div>
                    </div>
                    <div class="kpi-card">
                        <div class="value" id="kpi-insumos">0</div>
                        <div class="label">Total Insumos (kg)</div>
                    </div>
                    <div class="kpi-card">
                        <div class="value" id="kpi-frentes">0</div>
                        <div class="label">Frentes Ativas</div>
                    </div>
                </div>

                <!-- Gr√°ficos -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <h4>Evolu√ß√£o Di√°ria de Plantio</h4>
                        <div class="chart-container">
                            <canvas id="chart-evolucao"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h4>Comparativo por Frente</h4>
                        <div class="chart-container">
                            <canvas id="chart-frentes"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h4>Consumo de Insumos</h4>
                        <div class="chart-container">
                            <canvas id="chart-insumos"></canvas>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h4>Realizado vs Meta</h4>
                        <div class="chart-container">
                            <canvas id="chart-metas"></canvas>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Tab: OS Agr√≠cola -->
             <section id="tab-os" class="tab-content">
                <div class="section-header">
                    <h3>Ordem de Servi√ßo Agr√≠cola</h3>
                    <div class="actions">
                        <button class="btn btn-primary" id="btn-new-os">Nova OS</button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="table-container">
                        <table class="data-table" id="os-table">
                            <thead>
                                <tr>
                                    <th>N¬∫ OS</th>
                                    <th>Data</th>
                                    <th>Fazenda</th>
                                    <th>Frente</th>
                                    <th>Opera√ß√£o</th>
                                    <th>√Årea Total</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Tab: Libera√ß√£o Colheita -->
            <section id="tab-liberacao" class="tab-content">
                <div class="section-header">
                    <h3>Libera√ß√£o de Colheita de Muda</h3>
                    <div class="actions">
                        <button class="btn btn-primary" id="btn-new-liberacao">Nova Libera√ß√£o</button>
                    </div>
                </div>
                <div class="card">
                    <div class="table-container">
                        <table class="data-table" id="liberacao-table">
                            <thead>
                                <tr>
                                    <th>N¬∫ Libera√ß√£o</th>
                                    <th>Data</th>
                                    <th>Fazenda</th>
                                    <th>Talh√µes</th>
                                    <th>√Årea Total</th>
                                    <th>Status</th>
                                    <th>A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- JS -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

        </main>
    </div>

    <!-- Modal Viagem -->
    <div id="modal-viagem" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Registro de Viagem de Adubo</h3>
            <div class="form-grid">
                <div class="form-group">
                    <label>Data</label>
                    <input type="date" id="viagem-data">
                </div>
                <div class="form-group">
                    <label>Fazenda</label>
                    <input type="text" id="viagem-fazenda">
                </div>
                <div class="form-group">
                    <label>Frente</label>
                    <select id="viagem-frente">
                        <option value="4001">4001</option>
                        <option value="4002">4002</option>
                        <option value="4009">4009</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Motorista</label>
                    <input type="text" id="viagem-motorista">
                </div>
                <div class="form-group">
                    <label>Caminh√£o</label>
                    <input type="text" id="viagem-caminhao">
                </div>
                <div class="form-group">
                    <label>Lacre</label>
                    <input type="text" id="viagem-lacre">
                </div>
            </div>
            
            <h4 style="margin-top: 15px;">Bags Utilizados</h4>
            <div class="form-grid" style="grid-template-columns: 2fr 1fr auto;">
                <div class="form-group">
                    <label>Produto</label>
                    <select id="viagem-bag-produto">
                        <option value="">Selecione...</option>
                        <!-- JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label>Quantidade (kg)</label>
                    <input type="number" id="viagem-bag-qtd">
                </div>
                <button class="btn btn-secondary" id="btn-add-bag" style="margin-top: 22px;">+</button>
            </div>
            <div class="table-container" style="max-height: 150px; overflow-y: auto;">
                <table class="data-table">
                    <thead><tr><th>Produto</th><th>Qtd</th><th>A√ß√£o</th></tr></thead>
                    <tbody id="viagem-bags-tbody"></tbody>
                </table>
            </div>

            <button class="btn btn-primary" id="btn-save-viagem" style="width: 100%; margin-top: 15px;">Salvar Viagem</button>
        </div>
    </div>

    <!-- Modal OS -->
    <div id="modal-os" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close-modal">&times;</span>
            <h3>Ordem de Servi√ßo Agr√≠cola</h3>
            
            <div class="form-grid">
                <div class="form-group">
                    <label>N¬∫ OS</label>
                    <input type="text" id="os-numero" placeholder="Autom√°tico">
                </div>
                <div class="form-group">
                    <label>Data In√≠cio</label>
                    <input type="date" id="os-data-inicio">
                </div>
                <div class="form-group">
                    <label>Frente</label>
                    <select id="os-frente">
                        <option value="4001">4001</option>
                        <option value="4002">4002</option>
                        <option value="4009">4009</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Fazenda</label>
                    <input type="text" id="os-fazenda">
                </div>
                <div class="form-group">
                    <label>Opera√ß√£o</label>
                    <select id="os-operacao">
                        <option value="Plantio Manual">Plantio Manual</option>
                        <option value="Plantio Mecanizado">Plantio Mecanizado</option>
                        <option value="Colheita de Muda">Colheita de Muda</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>√Årea Total (ha)</label>
                    <input type="number" id="os-area-total" step="0.01">
                </div>
            </div>

            <h4 style="margin-top: 15px;">Talh√µes</h4>
            <div class="form-grid" style="grid-template-columns: 1fr 1fr auto;">
                <div class="form-group">
                    <label>Talh√£o</label>
                    <input type="text" id="os-talhao-add">
                </div>
                <div class="form-group">
                    <label>√Årea (ha)</label>
                    <input type="number" id="os-area-add" step="0.01">
                </div>
                <button class="btn btn-secondary" id="btn-add-os-talhao" style="margin-top: 22px;">+</button>
            </div>
            <div class="table-container" style="max-height: 150px; overflow-y: auto;">
                <table class="data-table">
                    <thead><tr><th>Talh√£o</th><th>√Årea</th><th>A√ß√£o</th></tr></thead>
                    <tbody id="os-talhoes-body"></tbody>
                </table>
            </div>

            <button class="btn btn-primary" id="btn-save-os" style="width: 100%; margin-top: 15px;">Salvar OS</button>
        </div>
    </div>

    <!-- Modal Libera√ß√£o Colheita -->
    <div id="modal-liberacao" class="modal">
        <div class="modal-content" style="max-width: 700px;">
            <span class="close-modal">&times;</span>
            <h3>Libera√ß√£o de Colheita de Muda</h3>
            <form id="liberacao-form">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="liberacao-numero">N√∫mero Libera√ß√£o</label>
                        <input type="text" id="liberacao-numero" required>
                    </div>
                    <div class="form-group">
                        <label for="liberacao-data">Data</label>
                        <input type="date" id="liberacao-data" required>
                    </div>
                    <div class="form-group">
                        <label for="liberacao-frente">Frente (OS)</label>
                        <select id="liberacao-frente">
                            <option value="4001">4001</option>
                            <option value="4002">4002</option>
                            <option value="4009">4009</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="liberacao-fazenda">Fazenda</label>
                        <select id="liberacao-fazenda" required>
                            <option value="">Selecione...</option>
                            <!-- Populated via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="liberacao-cod-fazenda">C√≥d. Fazenda</label>
                        <input type="text" id="liberacao-cod-fazenda" readonly style="background: #f0f0f0;">
                    </div>
                    <div class="form-group">
                        <label for="liberacao-status">Status</label>
                        <select id="liberacao-status">
                            <option value="Aberto">Aberto</option>
                            <option value="Fechado">Fechado</option>
                        </select>
                    </div>
                </div>

                <div class="form-section" style="margin-top: 15px; border-top: 1px solid #eee; padding-top: 10px;">
                    <h5 style="margin: 15px 0 5px 0;">Talh√µes</h5>
                    <div class="form-grid" style="grid-template-columns: 1fr 1fr 1fr auto; align-items: end; margin-bottom: 10px;">
                        <div class="form-group">
                            <label for="liberacao-talhao-add">Talh√£o</label>
                            <select id="liberacao-talhao-add">
                                <option value="">Selecione...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="liberacao-variedade-add">Variedade</label>
                            <input type="text" id="liberacao-variedade-add" placeholder="Variedade">
                        </div>
                        <div class="form-group">
                            <label for="liberacao-area-add">√Årea (ha)</label>
                            <input type="number" id="liberacao-area-add" step="0.01" placeholder="0.00">
                        </div>
                        <button type="button" class="btn btn-secondary" id="btn-add-liberacao-talhao">Adicionar</button>
                    </div>

                    <div class="table-container" style="max-height: 150px; overflow-y: auto;">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Talh√£o</th>
                                    <th>Variedade</th>
                                    <th>√Årea (ha)</th>
                                    <th>A√ß√£o</th>
                                </tr>
                            </thead>
                            <tbody id="liberacao-talhoes-body">
                                <!-- JS -->
                            </tbody>
                            <tfoot>
                                <tr>
                                    <td colspan="2" style="text-align: right; font-weight: bold;">Total:</td>
                                    <td colspan="2" id="liberacao-total-ha" style="font-weight: bold;">0.00 ha</td>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 15px;">
                    <label for="liberacao-obs">Observa√ß√µes</label>
                    <textarea id="liberacao-obs" rows="2" style="width: 100%;"></textarea>
                </div>

                <div class="form-actions" style="margin-top: 20px; display: flex; justify-content: flex-end; gap: 10px;">
                    <button type="button" class="btn btn-secondary close-modal-btn">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-save-liberacao">Salvar Libera√ß√£o</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Metas -->
    <div id="modal-metas" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-modal">&times;</span>
            <h3>Configura√ß√£o de Metas Di√°rias</h3>
            <p>Defina a meta de plantio (ha) para cada frente.</p>
            
            <div class="form-grid" style="grid-template-columns: 1fr 1fr;">
                <div class="form-group">
                    <label>Frente 4001</label>
                    <input type="number" id="meta-4001" step="0.1">
                </div>
                <div class="form-group">
                    <label>Frente 4002</label>
                    <input type="number" id="meta-4002" step="0.1">
                </div>
                <div class="form-group">
                    <label>Frente 4009</label>
                    <input type="number" id="meta-4009" step="0.1">
                </div>
            </div>
            
            <button class="btn btn-primary" id="btn-save-metas" style="width: 100%; margin-top: 15px;">Salvar Metas</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    
    <script src="config.js"></script>
    <script src="insumo-data.js"></script>
    <script src="api.js"></script>
    <script src="ui.js"></script>
    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            window.app = new InsumosApp();
            window.app.init();
        });
    </script>
</body>
</html>